@using E_Commerce.Models.Home;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="~/Content/MyMainLayOut.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@Html.Raw("@")popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <header>
        <nav class="navbar sticky-top navbar-expand-lg " style="background-color: rgb(224, 224, 224)">
            <div class="container-fluid">
                <div class="logo">
                    <h1><a href="../Home/Index">Tech<span>Traverse</span></a></h1>
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item"><h5 class="nav-link active">@Html.ActionLink("About Us", "About", "Home", new { area = "" }, new { @class = "nav-link" })</h5></li>
                        <li class="nav-item"><h5 class="nav-link active">@Html.ActionLink("Contact", "Contact", "Home", new { area = "" }, new { @class = "nav-link" })</h5></li>
                        @if (User.Identity.IsAuthenticated)
                        {
                            <li class="nav-item"><h6 class="nav-link active">@Html.ActionLink("Logout", "Logout", "Home", new { area = "" }, new { @class = "nav-link" })</h6></li>
                            <li class="nav-item"><h5 class="nav-link">Hello @User.Identity.Name !</h5></li>
                        }
                        else
                        {
                            <li class="nav-item"><h5 class="nav-link active">@Html.ActionLink("Login/Signup", "Login", new { area = "" }, new { @class = "nav-link" })</h5></li>
                        }
                    </ul>
                    <form class="d-flex">
                        <button class="btn btn-secondary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Cart <i class="fa fa-shopping-cart"></i></button>
                    </form>
                </div>
            </div>
        </nav>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            @*offcanvas*@
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasRightLabel" style="font-weight:400">Your Cart Items</h5>
                <button type="button" class="btn-close " data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">

                @if (Session["cart"] != null)
                {
                    foreach (var item in (List<Item>)Session["cart"])
                    {

                        <div class="card mb-3" style="max-width: 540px;">
                            <div class="row g-0">
                                <div class="col-md-4">
                                    <a> <img src="/ProductImages/@item.Product.ProductImage" class="img-fluid rounded-start" alt="..."></a>
                                </div>
                                <div class="col-md-8">
                                    <div class="card-body">
                                        <h5 class="card-title"><a href="@Url.Action("RemoveFromCart","Home", new {productId= item.Product.ProductId})" style="color:black; text-decoration:none">@item.Product.ProductName</a></h5>
                                        <p class="card-text">
                                            <a href="@Url.Action("RemoveFromCart","Home", new {productId= item.Product.ProductId})" style="color:black; text-decoration:none">@item.Product.Price</a>
                                        </p>
                                        <p class="card-text"><small class="text-muted">Quantity : @item.Quantity</small></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    if (((List<Item>)Session["cart"]).Any())
                    {
                        <a class="btn btn-secondary" href="@Url.Action("Checkout","Home")">Checkout</a>
                    }
                }

            </div>
        </div>

        <hr style=" margin: 5px 0px 5px 0;" />

    </header>

    @RenderBody()

    <hr />
    <img src="~/Content/Screenshot 2023-08-05 173836.jpg.png" style="width:100%;" />
    <hr style=" margin: 5px 0px 5px 0;" />
    <br />
    <footer class="footer">
        <div class="container text-left">
            <small style="color:grey" class="copyright">Copyright &copy 2023 TechTraverse Private Limited. All Rights Reserved.</small>
            <a href="#"><small style="color:grey" class="fa fa-lg fa-skype pull-right">   </small></a>
            <a href="#"><small style="color:grey" class="fa fa-lg fa-google-plus pull-right">   </small></a>
            <a href="#"><small style="color:grey" class="fa fa-lg fa-linkedin pull-right">   </small></a>
            <a href="#"><small style="color:grey" class="fa fa-lg fa-twitter pull-right">   </small></a>
            <a href="#"><small style="color:grey" class="fa fa-lg fa-facebook pull-right">   </small></a>
        </div>
    </footer>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>
